
개발과제: y DB 유효여부 → x DB 동기화 처리

- x → y는 DMS 처리로 단방향 처리 (양방향 아님)
- y에서 데이터 변경 시 x로 전달되지 않음
- y는 자체적으로 유효여부 데이터를 수정 및 조회 조건값으로 사용하고 있음
- x는 해당 데이터가 없어 조회 시 양사 DB 조회값 상이

🧩 해결 방안:
- y DB에서 조회하여 DB와 싱크되지 않은 데이터 동기화 처리
- 대량 데이터처리 시스템으로 1만건씩 페이징 처리 후 transactionTemplate 사용하여 별도 트랜잭션 처리
- 수신여부 값을 바탕으로 양사 DB 조회 후 유효여부 상이 할 경우 DB동기화
- for문 안에서 예외처리시 페이징 순번을 기재하여 오류로그 적재 및 해당 순번만 롤백처리 후 다음 페이징 순번 처리
- for문 밖에서 예외처리시 전체 오류로 판단하여 Skip처리로 구현
- 오류 발생할 경우 SMS 수신
- 조회시 사용되는 수신여부 값을 변경하지 않으므로 update 시 조회대상 변경되지 않으므로 페이징단위 조회 이슈 없음.


25-07-08
추가 개발 진행

대량 데이터 처리시 불필요한 데이터 누적발생하여 처리한다고 판단.
이메일유효여부 N일 경우 개인정보에서 이메일 변경시 Y로 변경하여 y DB로 전송되게 처리
해당 케이스 적용될 경우 y DB 이메일 유효여부의 대한 전체 대상을 가져와 비교하지 않아도 된다판단
대용량 데이터 -> 1만건 이하의 데이터만 수집하여 처리가능.
최초 배치 실행 시 in절 조건에 들어가는 수가 대용량인 만큼 모니터링은 필요함.
